---
  - name: "Adding repo via rpm"
    ansible.builtin.dnf:
      state: present
      name: "{{ item }}"
      disable_gpg_check: true
    when: "'.rpm' in item"
    register: rpm

  - name: "Adding repo urls"
    command: "dnf config-manager --add-repo={{ item }} --nogpgcheck"
    args:
      warn: false
    when: "'http' in item and rpm is skipped"


